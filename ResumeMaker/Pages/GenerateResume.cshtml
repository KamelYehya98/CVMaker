@page "{id}"
@model ResumeMaker.Pages.GenerateResumeModel

@addTagHelper AuthoringTagHelpers.TagHelpers.E*, AuthoringTagHelpers
@addTagHelper AuthoringTagHelpers.TagHelpers.Email*, AuthoringTagHelpers
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@addTagHelper *, AuthoringTagHelpers

@using ResumeMaker.Models;
<style>
    @@media only screen and (min-width: 0px) and (max-width: 767px) {
        label {
            font-size: 16px;
        }
    }

    @@media only screen and (min-width: 768px) and (max-width: 1439px){
        label {
            font-size: 13px;
        }
    }
    @@media only screen and (min-width: 1044px) {
        label {
            font-size: 15px;
        }
    }
</style>

<link href='https://fonts.googleapis.com/css?family=Montez|Lobster|Josefin+Sans|Shadows+Into+Light|Pacifico|Amatic+SC:700|Orbitron:400,900|Rokkitt|Righteous|Dancing+Script:700|Bangers|Chewy|Sigmar+One|Architects+Daughter|Abril+Fatface|Covered+By+Your+Grace|Kaushan+Script|Gloria+Hallelujah|Satisfy|Lobster+Two:700|Comfortaa:700|Cinzel|Courgette' rel='stylesheet' type='text/css'>
<script type="text/javascript" src="~/js/GenerateResume.js"></script>
<script src="~/lib/jquery/dist/jquery.min.js"></script>
<script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
<link href="~/lib/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" />
<link href="/css/GenerateResume.css" rel="stylesheet" />
<script src="~/js/site.js" asp-append-version="true"></script>

<div class="d-flex justify-content-center align-items-center flex-column col-xl-10 col-lg-10 col-12 offset-xl-1 offset-0 offset-lg-1"  >
    <div class="d-flex flex-row justify-content-between align-items-center col-12 disappear row mb-5 bg-dark" style="border-radius: 10%; opacity:0.9;">

        <div class="d-flex flex-lg-row flex-column align-items-baseline align-items-lg-center col-2 col-lg-3 mt-2 mb-2">
            <form method="get">
                <input class="btn btn-success btn-sm mr-1 ml-1 mt-1" style="color:var(--bs-headers-color-custom);" type="button" onclick="download()" value="SAVE AS PDF">
                <input class="btn btn-primary btn-sm mr-1 ml-1 mt-1" style="color:var(--bs-headers-color-custom);" type="submit" asp-page="/Edit" asp-route-id="@Model.Info.ResumeInfoID"  value="EDIT RESUME">
            </form>
        </div>

        <div class="d-flex flex-lg-row flex-column align-items-baseline align-items-lg-center justify-content-end col-10 col-lg-9 mt-2 mb-2">
            <div class="d-flex flex-column justify-content-lg-center align-items-end mr-3 w-100">
                <label for="selecth1FontFamily" class="text-light">Choose a font family </label>
                <select id="selecth1FontFamily" name="selectFontFamily" onchange="updateh1family();"></select>
            </div>
            <div class="d-flex flex-column align-items-end w-100">
                <label for="selecth1FontSize" class="text-light">Choose a font size: </label>
                <select id="selecth1FontSize" name="selectFontSize" onchange="updateFontSize();"></select>
            </div>
            <div class="d-flex flex-column align-items-end w-100">
                <label for="selectStyle" class="text-light">Style: </label>
                <select id="selectStyle" name="selectStyle" onchange="updateStyle();">
                    <option value="bg-dark">Dark</option>
                    <option value="bg-primary">Primary</option>
                </select>
            </div>
            <div class="d-flex flex-column align-items-end w-100">
                <label for="imageStyle" class="text-light">Image Portrait: </label>
                <select id="imageStyle" name="imageStyle" onchange="updateImageStyle();">
                    <option value="square">Border</option>
                    <option value="circle">Round</option>
                </select>
            </div>
        </div>
    </div>

    <div style="background-color: var(--bs-outline-color-custom);" class="col-xl-10 col-lg-12 col-12 p-1" id="div_to_print">
        <div class="container col-12" style="background-color: var(--bs-bg-color-custom);" >

            <div class="row">
                <div class="m-4">
                    <span class="font-weight-light float-left col-12" style="color: var(--bs-outline-color-custom); font-size: x-large;">P O R T F O L I O</span>
                </div>
            </div>

            <div class="row">
                <div class="col-6 d-flex flex-column justify-content-start align-items-center">
                    <div class="col-12">
                        <div id="name" class="mb-5 col-12">
                            @if (Model.Info.Image != null && !Model.Info.Image.Equals(""))
                            {
                                <div>
                                    <img src="/images/@Model.Info.Image" asp-append-version="true" class="col-6 col-lg-5 m-0 p-0 border-light" id="profile_img" />
                                </div>
                                <br />
                            }
                            <span class="font-weight-bolder" style="color: var(--bs-headers-color-custom); font-size: x-large;">@Model.Info.FirstName </span>
                            <span class="font-weight-light" style="color: var(--bs-headers-color-custom);font-size: x-large;" >@Model.Info.LastName</span>
                            <br />
                            <span class="font-italic font-weight-lighter" style="color: var(--bs-text-color-custom);; font-size:large;">@Model.Info.Profession</span>
                        </div>

                        <div id="contact" class="mb-5 col-12">
                            <span class="font-weight-bold" style="color:var(--bs-headers-color-custom);">C O N T A C T</span>
                            <br />
                            <span style="color: var(--bs-text-color-custom);; font-size: small;" class="font-weight-light ">@Model.Info.Email</span><br />
                            <span style="color: var(--bs-text-color-custom);; font-size: small;" class="font-weight-light ">@Model.Info.PhoneNumber</span><br />
                            <span style="color: var(--bs-text-color-custom);; font-size: small;" class="font-weight-light ">@Model.Info.Address</span><br />

                        </div>

                        <div id="skills" class="mb-5 col-12">
                            <span class="font-weight-bold" style="color:var(--bs-headers-color-custom);">S K I L L S</span>
                            <div class="row mt-1 d-flex flex-row">

                                <div class="col-1 col-lg-1 mt-3" id="line_seperator"></div>
                                <div class="col-10 col-lg-10 mt-2">
                                    @foreach (Skill skill in Model.Info.GetSkills())
                                    {
                                        <div class="col-11 col-lg-10">
                                            <div class="col-12 m-1">
                                                <span style="color:var(--bs-headers-color-custom);">@skill.Name</span><br />
                                                <div class="progress">
                                                    <div class="progress-bar" role="progressbar" style="background-color:var(--bs-outline-color-custom);width: @(skill.Proficiency * 33.3333)%" aria-valuenow="3" aria-valuemin="1" aria-valuemax="4"></div>
                                                </div>
                                            </div>
                                        </div>
                                    }
                                </div>
                            </div>
                        </div>

                        <div id="languages" class="mb-5 col-12">
                            <span class="font-weight-bold" style="color:var(--bs-headers-color-custom);">L A N G U A G E S</span>
                            <div class="row mt-1 d-flex flex-row">

                                <div class="col-1 col-lg-1 mt-3" id="line_seperator"></div>

                                <div class="col-10 col-lg-10 mt-2">
                                    @foreach (Language lang in Model.Info.GetLanguages())
                                    {

                                        <div class="col-10">
                                            <div class="col-12 m-1">
                                                <span style="color:var(--bs-headers-color-custom);">@lang.Name</span><br />
                                                <div class="progress">
                                                    <div class="progress-bar" role="progressbar" style="background-color:var(--bs-outline-color-custom); width:@(lang.Proficiency * 33.3333)%;" aria-valuenow="3" aria-valuemin="1" aria-valuemax="4"></div>
                                                </div>
                                            </div>
                                        </div>
                                    }
                                </div>
                            </div>
                        </div>

                    </div>
                </div>

                <div class="col-6 d-flex flex-column justify-content-start align-items-center">

                    <div id="aboutme" class="mb-5">
                        <span class="font-weight-bold" style="color:var(--bs-headers-color-custom);">P R O F I L E </span>
                        <div class="row mt-2">
                            <div class="col-2 mb-3" id="line_seperator" style="left:5%"></div>
                            <div class="col-9">
                                <p style="font-size: small; color: var(--bs-text-color-custom);;" class="font-resizable">
                                    @Model.Info.AboutMe
                                </p>
                            </div>
                        </div>
                    </div>

                    <div id="experience" class="mb-5">
                        <span class="font-weight-bold" style="color:var(--bs-headers-color-custom);">E X P E R I E N C E</span>
                        <br />
                        <div class="mt-4">
                            @foreach (Experience exp in Model.Info.Experiences)
                            {
                                <div class="row mb-2">
                                    <div class="col-2 mb-3" id="line_seperator" style="left:5%"></div>
                                    <div class="col-9">
                                        <span class="font-weight-bolder mb-2" style="color:var(--bs-outline-color-custom);">@exp.Name</span>
                                        <p class="font-resizable" style="font-size: small;color: var(--bs-text-color-custom);">
                                            @exp.Text
                                        </p>
                                    </div>
                                </div>
                            }
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script type="text/javascript">
    function download() {
        let divs = document.getElementsByClassName("disappear");
        for (var i = 0; i < divs.length; i++)
            document.getElementsByClassName("disappear")[i].setAttribute("style", "display: none !important;");
        window.print();
        for (var i = 0; i < divs.length; i++)
            setTimeout(document.getElementsByClassName("disappear")[i].setAttribute("style", ""), 4000);
    }
</script>
